<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.118.2"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Sirius"><meta property="og:url" content="https://4bug.cn/post/android/kotlin%E5%9F%BA%E7%A1%80/"><link rel=canonical href=https://4bug.cn/post/android/kotlin%E5%9F%BA%E7%A1%80/><link rel=alternate type=application/atom+xml href=https://4bug.cnindex.xml title=SIRIUS><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/4bug.cn"},"articleSection":"post","name":"Kotlin基础","headline":"Kotlin基础","description":"重学kotlin\n","inLanguage":"en-US","author":"Sirius","creator":"Sirius","publisher":"Sirius","accountablePerson":"Sirius","copyrightHolder":"Sirius","copyrightYear":"2022","datePublished":"2022-12-22 00:15:26 \u002b0800 \u002b0800","dateModified":"2022-12-22 00:15:26 \u002b0800 \u002b0800","url":"https:\/\/4bug.cn\/post\/android\/kotlin%E5%9F%BA%E7%A1%80\/","keywords":["Kotlin","Android"]}</script><title>Kotlin基础</title><meta property="og:title" content="Kotlin基础"><meta property="og:type" content="article"><meta property="og:description" content="重学kotlin
"><meta name=description content="重学kotlin
"><meta property="og:locale" content="en-us"><style>body{font-family:bree serif,sans-serif;-webkit-font-smoothing:antialiased;margin:0 20px}article{max-width:1000px;margin-left:auto;margin-right:auto}a{color:#000;text-decoration:none}a:hover{font-weight:600;text-decoration:underline}.post-ads{margin:50px 0}.markdown-body{font-size:18px;max-width:100%}.markdown-body a{text-decoration:underline;text-decoration-color:#000}.markdown-body blockquote{margin:0;padding:0 1em;color:#57606a;border-left:.25em solid #d0d7de}.markdown-body pre{padding:16px;overflow:auto;border-radius:10px}.markdown-body code{padding:.15em .3em;font-size:85%;background-color:#fae7e7;border-radius:3px}.markdown-body pre>code{padding:0;font-size:85%;background-color:inherit;border:0}.Chinese .markdown-body{line-height:200%}.site-date-catalog{font-size:2rem}.header-title{font-size:2rem;font-weight:700;margin-top:32px;font-family:bungee shade,sans-serif}.header-title a{text-decoration:none}.header-subtitle{color:#666}.header-items{margin:10px 0}.header-item{margin:0 5px}.header-line{width:100%;border-width:2px;border-color:#482936;border-style:solid none none none}.lang-switch{font-weight:600}#posts-list{min-height:600px}.posts-line{font-size:1.2rem;margin:12px 0}.posts-categories{display:flex;flex-direction:row-reverse;font-size:.8rem;margin:auto;text-align:center}.posts-category{padding:3px 0;width:70%;border:#000 2px solid;border-radius:5px}.site-footer{margin-bottom:30px;display:flex;justify-content:center;flex-wrap:wrap;padding:0;border-width:3px;border-style:solid none;border-color:#fff}.site-footer-item{margin-right:12px}.post-content img{max-width:100%;display:block;margin-right:auto;margin-top:12px}.post-header{margin-bottom:50px}.post-title{font-size:2rem;font-weight:600}.post-tags{display:inline;font-weight:600;padding:2px 5px;margin-right:6px;border:#000 2px solid;border-radius:5px}.post-date{font-weight:800;font-style:italic}.post-author{float:right;font-weight:600}.page-content{min-height:60%}.post-content{margin-bottom:50px}.post-content p{hyphens:auto;line-height:1.8;text-justify:ideographic;margin-bottom:1em}.related-content{border-width:3px;border-style:solid;border-color:#000;padding:0 10px;margin-bottom:30px;margin-top:30px}.related-content li{margin:5px 0}.taxonomy-term{font-size:3rem}.gallery-img{text-align:center}.gallery-img span{text-align:center}.gallery-img-desc{font-size:.8em;font-weight:800}#disqus_thread{position:relative}#disqus_thread:after{content:"";display:block;height:55px;width:100%;position:absolute;bottom:0;background:#fff}@media screen and (max-width:600px){.header-title,.header-subtitle,.header-items{text-align:center}.posts-line{font-size:16px}.markdown-body{font-size:16px}.post-title{font-size:2rem}.post-content p{letter-spacing:.05em}}@media screen and (max-width:48em){.posts-category{display:none}}</style><style>.container,.container-fluid{margin-right:auto;margin-left:auto}.container-fluid{padding-right:2rem;padding-left:2rem}.row{box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:initial;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-.5rem;margin-left:-.5rem}.row.reverse{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.col.reverse{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.col-xs,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-offset-0,.col-xs-offset-1,.col-xs-offset-10,.col-xs-offset-11,.col-xs-offset-12,.col-xs-offset-2,.col-xs-offset-3,.col-xs-offset-4,.col-xs-offset-5,.col-xs-offset-6,.col-xs-offset-7,.col-xs-offset-8,.col-xs-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-xs{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-xs-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-xs-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-xs-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-xs-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-xs-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-xs-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-xs-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-xs-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-xs-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-xs-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-xs-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-xs-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-xs-offset-0{margin-left:0}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-11{margin-left:91.66666667%}.start-xs{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-xs{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-xs{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-xs{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-xs{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-xs{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-xs{-ms-flex-pack:distribute;justify-content:space-around}.between-xs{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-xs{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-xs{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}@media only screen and (min-width:48em){.container{width:49rem}.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-offset-0,.col-sm-offset-1,.col-sm-offset-10,.col-sm-offset-11,.col-sm-offset-12,.col-sm-offset-2,.col-sm-offset-3,.col-sm-offset-4,.col-sm-offset-5,.col-sm-offset-6,.col-sm-offset-7,.col-sm-offset-8,.col-sm-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-sm{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-sm-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-sm-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-sm-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-sm-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-sm-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-sm-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-sm-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-sm-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-sm-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-sm-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-sm-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-sm-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-sm-offset-0{margin-left:0}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-11{margin-left:91.66666667%}.start-sm{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-sm{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-sm{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-sm{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-sm{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-sm{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-sm{-ms-flex-pack:distribute;justify-content:space-around}.between-sm{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-sm{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-sm{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:64em){.container{width:65rem}.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-offset-0,.col-md-offset-1,.col-md-offset-10,.col-md-offset-11,.col-md-offset-12,.col-md-offset-2,.col-md-offset-3,.col-md-offset-4,.col-md-offset-5,.col-md-offset-6,.col-md-offset-7,.col-md-offset-8,.col-md-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-md{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-md-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-md-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-md-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-md-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-md-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-md-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-md-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-md-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-md-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-md-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-md-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-md-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-md-offset-0{margin-left:0}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-3{margin-left:25%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-6{margin-left:50%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-9{margin-left:75%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-11{margin-left:91.66666667%}.start-md{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-md{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-md{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-md{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-md{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-md{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-md{-ms-flex-pack:distribute;justify-content:space-around}.between-md{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-md{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-md{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:75em){.container{width:76rem}.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-offset-0,.col-lg-offset-1,.col-lg-offset-10,.col-lg-offset-11,.col-lg-offset-12,.col-lg-offset-2,.col-lg-offset-3,.col-lg-offset-4,.col-lg-offset-5,.col-lg-offset-6,.col-lg-offset-7,.col-lg-offset-8,.col-lg-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-lg{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-lg-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-lg-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-lg-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-lg-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-lg-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-lg-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-lg-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-lg-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-lg-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-lg-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-lg-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-lg-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-lg-offset-0{margin-left:0}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-11{margin-left:91.66666667%}.start-lg{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-lg{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-lg{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-lg{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-lg{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-lg{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-lg{-ms-flex-pack:distribute;justify-content:space-around}.between-lg{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-lg{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-lg{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}</style><link href=/index.xml rel=alternate type=application/rss+xml title=SIRIUS><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css?family=Bree+Serif|Bungee+Shade" rel=stylesheet><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114666602-1"></script></head><body><article class=post id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class=header-title><a href=/>Sirius</a></div><div class=header-subtitle>something meaningless</div></header><div class="row end-md center-xs header-items"><div class=header-item><a href=/about>About</a></div></div><div class="row end-xs"></div><div class=header-line></div></div><header class=post-header><h1 class=post-title>Kotlin基础</h1><div class="row post-desc"><div class=col-xs-6><time class=post-date datetime="2022-12-22 00:15:26 +0800">22 Dec 2022</time></div><div class=col-xs-6><div class=post-author><a target=_blank href=https://4bug.cn>@Sirius</a></div></div></div></header><div class="post-content markdown-body"><p>重学kotlin</p><h3 id=函数声明>函数声明</h3><p>声明函数要用<code>fun</code>关键字，就像声明类要用 <code>class</code> 关键字一样
「函数参数」的「参数类型」是在「参数名」的右边
函数的「返回值」在「函数参数」右边使用 : 分隔，没有返回值时可以省略</p><h4 id=声明没有返回值的函数>声明没有返回值的函数:</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>main</span>() { <span style=color:#75715e>//..
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=声明有返回值的参数>声明有返回值的参数:</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>sum</span>(x: Int, y: Int): Int { <span style=color:#66d9ef>return</span> x + y
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=变量声明>变量声明</h3><p><code>var</code> 声明可读可写变量， <code>val</code> 声明只读变量
「类型」在「变量量名」的右边，用 <code>:</code> 分割，同时如果满足「类型推断」，类型可以省略<br>创建对象直接调用构造器，不需要 <code>new</code> 关键字</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>var</span> age: Int = <span style=color:#ae81ff>18</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> name: String = <span style=color:#e6db74>&#34;Hello, Kotlin!&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> user: User = User()
</span></span></code></pre></div><h3 id=类型推断>类型推断</h3><p>在变量声明的基础上，如果表达式右边的类型是可以推断出来，那么类型可以省略:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>var</span> age = <span style=color:#ae81ff>18</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> name = <span style=color:#e6db74>&#34;Hello, Kotlin!&#34;</span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> user = User()
</span></span></code></pre></div><h3 id=继承类实现接口>继承类/实现接口</h3><p>继承类和实现接口都是用的 <code>:</code>,如果类中没有构造器 ( <code>constructor</code> )，需要在父类类名后面加<code>()</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MainActivity</span> : BaseActivity(), <span style=color:#a6e22e>View</span>.OnClickListener
</span></span></code></pre></div><h3 id=空安全设计>空安全设计</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>val</span> editText : EditText
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> editText : EditText?
</span></span></code></pre></div><h3 id=调用符>调用符</h3><p><code>!!</code>强行调用符
<code>?.</code> 安全调用符</p><h3 id=lateinit-关键字><code>lateinit</code> 关键字</h3><p>lateinit 只能修饰 var 可读可写变量
lateinit 关键字声明的变量的类型必须是「不可空类型」
lateinit 声明的变量不能有「初始值」<br>lateinit 声明的变量不能是「基本数据类型」
在构造器中初始化的属性不需要 lateinit 关键字</p><h3 id=平台类型>平台类型</h3><p>在类型后面面加上一个感叹号的类型是「平台类型」
Java 中可以通过注解减少这种平台类型的产生
<code>@Nullable</code> 表示可空类型
<code>@NotNull</code> <code>@NonNull</code> 表示不可空类型</p><h3 id=类型判断>类型判断</h3><p><code>is</code> 判断属于某类型<br><code>!is</code> 判断不属于某类型<br><code>as</code> 类型强转，失败时抛出类型强转失败异常<br><code>as?</code> 类型强转，但失败时不会抛出异常而是返回 <code>null</code></p><h3 id=获取-class-对象>获取 Class 对象</h3><p>使用 <code>类名::class</code> 获取的是 <code>Kotlin</code> 的类型是 <code>KClass</code>
使用 <code>类名::class.java</code> 获取的是 <code>Java</code> 的类型</p><h3 id=settergetter>setter/getter</h3><p>在 Kotlin 声明属性的时候(没有使用 <code>private</code> 修饰)，会自动生成一个私有属性和一对公开的 <code>setter/getter</code> 函数。
在写 <code>setter/getter</code>的时候使用 <code>field</code> 来代替内部的私有属性(防止递归栈溢出)。</p><blockquote><p>为什么 EditText.getText() 的时候可以简化，但是 EditText.setText() 的时候不能和 TextView.setText() 一样简化?
因为 EditText.getText() 获得的类型是 Editable ，对应的如果 EditText.setText() 传入的参数也是 Editable 就可以简化了。</p></blockquote><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>val</span> newEditable = <span style=color:#a6e22e>Editable</span>.<span style=color:#a6e22e>Factory</span>.getInstance().newEditable(<span style=color:#e6db74>&#34;Kotlin&#34;</span>) et_username.text = newEditable
</span></span></code></pre></div><h3 id=构造器>构造器</h3><p>使用 <code>constructor</code> 关键字声明构造器</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span> { <span style=color:#66d9ef>constructor</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>如果我们在构造器主动调用了了父类构造，那么在继承类的时候就不能在类的后面
加上小括号</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>constructor</span>(context: Context) : <span style=color:#66d9ef>this</span>(context, <span style=color:#66d9ef>null</span>) 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 主动调用用了父类的构造器  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>constructor</span>(context: Context, attr: AttributeSet?) : <span style=color:#66d9ef>super</span>(context, attr)
</span></span></code></pre></div><h3 id=jvmfield-生成属性>@JvmField 生成属性</h3><p>通过<code> @JvmField</code> 注解可以让编译器只生成一个 <code>public</code> 的成员属性，不生成对应的 <code>setter/getter</code> 函数</p><h3 id=any-和-unit>Any 和 Unit</h3><p>Kotlin 的顶层父类是 <code>Any</code> ，对应 Java 当中的 <code>Object</code> ，但是比 Object 少了 <code>wait()/notify()</code> 等函数<br>Kotlin 中的 <code>Unit</code> 对应 Java 中的 <code>void</code></p><h3 id=数组>数组</h3><p>使用 <code>arrayof()</code> 来创建数组，基本数据类型使用对应的<code> intArrayOf()</code> 等</p><h3 id=实现静态函数和属性>实现静态函数和属性</h3><ol><li>顶层函数</li><li><code>object</code></li><li><code>companion object</code></li></ol><p>「顶层函数」直接在文件中定义函数和属性，会直接生成<code>静态</code>的，在 <code>Java</code> 中 通过「<code>文件名Kt</code>」来 访问，同时可以通过 <code>@file:JvmName </code>注解来修改这个「类名」。</p><blockquote><p>需要注意，这种顶层函数不要声明在 module 内最顶层的包中，至少要在一个 包中例如 com 。不然不能方便使用。</p></blockquote><p><code>object</code> 和 <code>companion object</code> 都是生成单例例对象，然后通过单例对象访问函数和属性的</p><h4 id=jvmstatic>@JvmStatic</h4><p>通过这个注解将 <code>object</code> 和 <code>companion object</code> 的内部函数和属性，真正生成为静态的。</p><h3 id=单例模式匿名内部类>单例模式/匿名内部类</h3><p>通过 <code>object</code> 关键字实现</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#75715e>// 单例  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>object</span> <span style=color:#a6e22e>Singleton</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// 匿名内部类  
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>object</span> <span style=color:#960050;background-color:#1e0010>: </span><span style=color:#a6e22e>OnClickListener</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}<span style=color:#75715e>//接口用｛｝对象用（）
</span></span></span></code></pre></div><h3 id=字符串>字符串</h3><h4 id=字符串模版>字符串模版</h4><p>通过<code>${}</code>的形式来作为字符串模版</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>val</span> number = <span style=color:#ae81ff>100</span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> text = <span style=color:#e6db74>&#34;向你转账</span><span style=color:#e6db74>${number}</span><span style=color:#e6db74>元。&#34;</span> 
</span></span><span style=display:flex><span><span style=color:#75715e>// 如果只是单一的变量，可以省略掉 {} 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>val</span> text2 = <span style=color:#e6db74>&#34;向你转账</span><span style=color:#e6db74>$number元</span><span style=color:#e6db74>。&#34;</span>
</span></span></code></pre></div><h4 id=多行字符串>多行字符串</h4><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>val</span> world = <span style=color:#e6db74>&#34;multiline world&#34;</span> 
</span></span><span style=display:flex><span>println(<span style=color:#e6db74>&#34;&#34;&#34; 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		Hello 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		\</span><span style=color:#e6db74>$world</span><span style=color:#e6db74> 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>		&#34;&#34;&#34;</span>.trimIndent())
</span></span><span style=display:flex><span><span style=color:#75715e>//Hello \multiline world
</span></span></span></code></pre></div><h3 id=区间>区间</h3><p><code>200..299 </code>表示<code> 200 -> 299</code> 的区间(<code>包括</code> 299 )</p><h3 id=when-关键字>when 关键字</h3><p>分支条件上可以支持表达式</p><h3 id=受检异常>受检异常</h3><p>Kotlin 不需要使用 try-catch 强制捕获异常</p><h3 id=声明接口抽象类枚举注解>声明接口/抽象类/枚举/注解</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#75715e>//声明抽象类
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>abstract</span> <span style=color:#66d9ef>class</span> 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>声明接口</span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>interface</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>声明注解</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>annotation</span> <span style=color:#66d9ef>class</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>//</span><span style=color:#a6e22e>声明枚举</span>  
</span></span><span style=display:flex><span>enmu <span style=color:#66d9ef>class</span>
</span></span></code></pre></div><h3 id=编译期常量>编译期常量</h3><p>在静态变量上加上 <code>const</code> 关键字变成编译期常量</p><h3 id=引用>引用</h3><p>在 Java 中通过 「 <code>类名.this</code> 例如 Outer.this 」 获取目标类引用
在Kotlin中通过「<code>this@类名</code> 例如this@Outer」获取目标类引用</p><h3 id=遍历>遍历</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>for</span>(item <span style=color:#66d9ef>in</span> items)
</span></span></code></pre></div><h3 id=内部类>内部类</h3><p>在 Kotlin 当中，内部类默认是<code>静态内部类</code> 通过 <code>inner</code> 关键字声明为<code>嵌套</code>内部类</p><h3 id=可性修饰符>可⻅性修饰符</h3><p>默认的可⻅性修饰符是 <code>public</code> 新增的可⻅性修饰符 <code>internal</code> 表示当前<code>模块</code>可⻅</p><h3 id=注释>注释</h3><p>注释中可以在任意地方使用 <code>[]</code>来引用目标，代替 Java 中的 <code>@param</code> <code>@link</code> 等。</p><h3 id=非空断言>非空断言</h3><p>可空类型强制类型转换成不可空类型可以通过在变量后面加上<code> !!</code> ，来达到类型转换。</p><h3 id=openfinal>open/final</h3><p>Kotlin 中的类和函数，默认是被 <code>final</code> 修饰的 ( <code>abstract</code> 和 <code>override</code> 例外)</p></div><div class="row middle-xs"><div class=col-xs-12><div class=post-tags><a href=/tags/kotlin/>Kotlin</a></div><div class=post-tags><a href=/tags/android/>Android</a></div></div></div><div class=row><div class=col-xs-12></div></div><div class=related-content><h3>Related Posts</h3><ul><li><a href=/post/cs/login_auth/>登录和授权</a></li><li><a href=/post/cs/code_reference/>编码、加密、hash、序列化、字符集</a></li><li><a href=/post/cs/http/>Http基础</a></li></ul></div><div style=height:0></div><div class=site-footer><div class=site-footer-item><a href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral"><img src="https://img.shields.io/badge/CDN-%E5%8F%88%E6%8B%8D%E4%BA%91-000000?style=flat-square" title=本网站由又拍云提供CDN加速和云存储服务></a></div><div class=site-footer-item><a href=https://gohugo.io><img src="https://img.shields.io/badge/Blog-HUGO-%23000000?style=flat-square" title="blog by hugo"></a></div><div class=site-footer-item><a href=https://github.com/joway/hugo-theme-yinyang><img src="https://img.shields.io/badge/Theme-Yingyang-%23000000?style=flat-square" title="theme by yinyang"></a></div><div class=site-footer-item><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/><img src="https://img.shields.io/badge/CC-BY--NC--SA%204.0-%23000?style=flat-square" title="Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)"></a></div></div></div></div></article><script></script></body></html>